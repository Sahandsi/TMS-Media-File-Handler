{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar loaderInterval = null;\nvar node = null;\nvar intervalCounter = 0;\n\nfunction loadCss(filename) {\n  var link = document.createElement('link');\n  link.rel = 'stylesheet';\n  link.href = filename;\n  link.setAttribute(\"data-style\", \"react\");\n  document.head.appendChild(link);\n}\n\nfunction insertNode() {\n  var div = document.createElement('div');\n  div.id = \"react_rtl_ltr_node\";\n  document.body.appendChild(div);\n  return div;\n}\n\nfunction terminateOlderCss() {\n  var styles = document.querySelectorAll(\"link[data-style='react']\");\n\n  for (var i = 0; i < styles.length - 1; i++) {\n    styles[i].remove();\n  }\n}\n\nfunction checkCssLoader(direction) {\n  clearInterval(loaderInterval);\n  loaderInterval = setInterval(function () {\n    if (getComputedStyle(node, null).getPropertyValue(\"direction\") === direction) {\n      clearInterval(loaderInterval);\n      terminateOlderCss();\n    } // for slow internet connection\n\n\n    ++intervalCounter;\n\n    if (intervalCounter === 40) {\n      clearInterval(loaderInterval);\n      terminateOlderCss();\n    }\n  }, 200);\n}\n\nfunction cssLazyLoader() {\n  var actionTypes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var loaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  node = insertNode();\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === \"LOCALE_CHANGED\") {\n          var css = loaders[action.locale];\n          loadCss(css.address);\n          checkCssLoader(css.direction);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nexports.default = cssLazyLoader;","map":null,"metadata":{},"sourceType":"script"}