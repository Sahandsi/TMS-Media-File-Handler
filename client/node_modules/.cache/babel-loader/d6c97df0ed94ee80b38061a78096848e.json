{"ast":null,"code":"import _classCallCheck from \"/Users/sahand/Movies/AFF/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sahand/Movies/AFF/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sahand/Movies/AFF/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sahand/Movies/AFF/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sahand/Movies/AFF/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sahand/Movies/AFF/client/src/components/files-list.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faPencilAlt, faCodeBranch } from '@fortawesome/free-solid-svg-icons';\n\nvar File = function File(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, props.file.file_description), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, props.file.file_extension), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, props.file.file_size), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, props.file.file_duration), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, props.file.file_dimensions), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, props.file.file_tag), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, props.file.file_employeeResponsible), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, props.file.file_editActive), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/pastVersions/\" + props.file._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faCodeBranch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }), \" \"), React.createElement(Link, {\n    to: \"/edit/\" + props.file._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), \" \"), React.createElement(Link, {\n    to: \"/delete/\" + props.file._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faTrashAlt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), \" \")));\n};\n\nvar FileSearch = function FileSearch(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, props.file.file_description), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, props.file.file_extension), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, props.file.file_size), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, props.file.file_duration), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, props.file.file_dimensions), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props.file.file_tag), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, props.file.file_employeeResponsible), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, props.file.file_editActive), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/edit/\" + props.file._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(Link, {\n    to: \"/pastVersions/\" + props.file._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Past Versions\")));\n};\n\nvar FilesList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FilesList, _Component);\n\n  function FilesList(props) {\n    var _this;\n\n    _classCallCheck(this, FilesList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FilesList).call(this, props));\n\n    _this.onChangeSearchString = function (e) {\n      _this.setState({\n        searchString: e.target.value\n      });\n    };\n\n    _this.onChangeSearchCategory = function (e) {\n      _this.setState({\n        searchCategory: e.target.value\n      });\n    };\n\n    _this.onSearch = function (e) {\n      e.preventDefault();\n      var searchFile = {\n        searchString: _this.state.searchString,\n        searchCategory: _this.state.searchCategory\n      };\n      axios.post('http://localhost:4000/files/search', searchFile).then(function (res) {\n        if (res.data) {\n          console.log(res.data);\n\n          _this.setState({\n            searchResult: res.data\n          });\n        } else {\n          console.log(\"Not Found\");\n        }\n      });\n\n      _this.setState({\n        searchString: \"\"\n      });\n    };\n\n    _this.state = {\n      files: [],\n      fileOBJ: null,\n      filterString: '',\n      isLogged: true,\n      searchString: \"\",\n      searchCategory: \"\",\n      searchResult: null\n    }; // this.getPosts();\n\n    axios.get(\"http://localhost:4000/api/isLogged\").then(function (res) {\n      if (!res.data) {\n        return _this.setState({\n          isLogged: false\n        });\n      }\n    });\n    return _this;\n  }\n\n  _createClass(FilesList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:4000/files/').then(function (response) {\n        _this2.setState({\n          files: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      axios.get('http://localhost:4000/files/').then(function (response) {\n        _this3.setState({\n          files: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"fileList\",\n    value: function fileList() {\n      return this.state.files.map(function (currentFile, i) {\n        return React.createElement(File, {\n          file: currentFile,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"fileListSearch\",\n    value: function fileListSearch() {\n      console.log(this.state.searchResult);\n      return this.state.searchResult.map(function (currentFile, i) {\n        return React.createElement(FileSearch, {\n          file: currentFile,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.isLogged ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Files List\"), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"File Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"File Extension\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"File Size (In MB/s)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"File Duration (In Minutes)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"File Dimensions (In px)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"File Tag\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Employee Responsible\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Edit Active?\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.fileList())), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Search String\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.searchString,\n        onChange: this.onChangeSearchString,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Search Category\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        onChange: this.onChangeSearchCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        defaultValue: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Please select option\"), React.createElement(\"option\", {\n        value: \"file_description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"File Name\"), React.createElement(\"option\", {\n        value: \"file_tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"File Tag\"), React.createElement(\"option\", {\n        value: \"file_extension\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"File Extension\"))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"btn btn-primary\",\n        onClick: this.onSearch,\n        type: \"submit\",\n        value: \"Search File\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }))), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"File Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"File Extension\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"File Size (In MB/s)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"File Duration (In Minutes)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"File Dimensions (In px)\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"File Tag\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Employee Responsible\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Edit Active?\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, this.state.searchResult != null ? this.fileListSearch() : React.createElement(React.Fragment, null)))) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Please login\");\n    }\n  }]);\n\n  return FilesList;\n}(Component);\n\nexport { FilesList as default };","map":{"version":3,"sources":["/Users/sahand/Movies/AFF/client/src/components/files-list.component.js"],"names":["React","Component","Link","axios","FontAwesomeIcon","faTrashAlt","faPencilAlt","faCodeBranch","File","props","file","file_description","file_extension","file_size","file_duration","file_dimensions","file_tag","file_employeeResponsible","file_editActive","_id","FileSearch","FilesList","onChangeSearchString","e","setState","searchString","target","value","onChangeSearchCategory","searchCategory","onSearch","preventDefault","searchFile","state","post","then","res","data","console","log","searchResult","files","fileOBJ","filterString","isLogged","get","response","catch","error","map","currentFile","i","marginTop","fileList","fileListSearch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrashAlt,faPencilAlt,faCodeBranch } from '@fortawesome/free-solid-svg-icons'\n\n\nconst File = props => (\n    <tr>\n        <td>{props.file.file_description}</td>\n        <td>{props.file.file_extension}</td>\n        <td>{props.file.file_size}</td>\n        <td>{props.file.file_duration}</td>\n        <td>{props.file.file_dimensions}</td>\n        <td>{props.file.file_tag}</td>\n        <td>{props.file.file_employeeResponsible}</td>\n        <td>{props.file.file_editActive}</td>\n\n\n            <td>\n                <Link to={\"/pastVersions/\"+props.file._id}> <FontAwesomeIcon icon={faCodeBranch}/> </Link>\n\n                <Link to={\"/edit/\"+props.file._id}> <FontAwesomeIcon icon={faPencilAlt}/> </Link>\n\n                <Link to={\"/delete/\"+props.file._id}> <FontAwesomeIcon icon={faTrashAlt}/> </Link>\n            </td>\n\n\n\n        {/*</td>*/}\n    </tr>\n)\n\nconst FileSearch = props => (\n    <tr>\n        <td>{props.file.file_description}</td>\n        <td>{props.file.file_extension}</td>\n        <td>{props.file.file_size}</td>\n        <td>{props.file.file_duration}</td>\n        <td>{props.file.file_dimensions}</td>\n        <td>{props.file.file_tag}</td>\n        <td>{props.file.file_employeeResponsible}</td>\n        <td>{props.file.file_editActive}</td>\n\n        <td>\n            <Link to={\"/edit/\" + props.file._id}>Edit</Link>\n            <Link to={\"/pastVersions/\"+props.file._id}>Past Versions</Link>\n        </td>\n    </tr>\n)\n\n\nexport default class FilesList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { files: [],fileOBJ:null,filterString:'', isLogged: true, searchString: \"\", searchCategory: \"\", searchResult: null };\n        // this.getPosts();\n\n        axios\n            .get(\"http://localhost:4000/api/isLogged\")\n            .then(res => {\n                if (!res.data) {\n                    return this.setState({ isLogged: false });\n                }\n            });\n        }\n\n\n    componentDidMount() {\n\n        axios.get('http://localhost:4000/files/')\n            .then(response => {\n                this.setState({ files: response.data });\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n        }\n\n    componentDidUpdate() {\n        axios.get('http://localhost:4000/files/')\n            .then(response => {\n                 this.setState({ files: response.data });\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    fileList() {\n\n        return this.state.files.map(function (currentFile, i) {\n            return <File file={currentFile} key={i} />;\n        });\n\n    }\n\n  \n\n    onChangeSearchString = e => {\n        this.setState({\n            searchString: e.target.value\n        })\n    }\n\n\n    onChangeSearchCategory = e => {\n        this.setState({\n            searchCategory: e.target.value\n        })\n    }\n\n    onSearch = e => {\n        e.preventDefault();\n        const searchFile = {\n            searchString: this.state.searchString,\n            searchCategory:this.state.searchCategory\n        }\n\n        axios.post('http://localhost:4000/files/search', searchFile)\n        .then( res =>{\n            if(res.data){\n                console.log(res.data);\n                this.setState({searchResult: res.data})\n\n            }else{\n                console.log(\"Not Found\");\n            }\n        })\n\n        this.setState({\n            searchString: \"\"\n        })\n    }\n\n    fileListSearch() {\n        console.log(this.state.searchResult);\n        return this.state.searchResult.map(function (currentFile, i) {\n            return <FileSearch file={currentFile} key={i} />;\n        });\n    }\n\n    render() {\n\n\n        return this.state.isLogged ? (\n\n            <div>\n                <h3>Files List</h3>\n                <table className=\"table table-striped\" style={{ marginTop: 20 }}>\n                    <thead>\n                        <tr>\n                            <th>File Name</th>\n                            <th>File Extension</th>\n                            <th>File Size (In MB/s)</th>\n                            <th>File Duration (In Minutes)</th>\n                            <th>File Dimensions (In px)</th>\n                            <th>File Tag</th>\n                            <th>Employee Responsible</th>\n                            <th>Edit Active?</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.fileList()}\n                    </tbody>\n                </table>\n\n                <form>\n\n                    <div className=\"form-group\" >\n                        <label>Search String</label>\n                        <input type = \"text\" value = {this.state.searchString} onChange = {this.onChangeSearchString} className = \"form-control\" />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Search Category</label>\n                        <select className=\"form-control\" onChange = {this.onChangeSearchCategory} >\n                            <option defaultValue = {true}>Please select option</option>\n                            <option value=\"file_description\">File Name</option>\n                            <option value=\"file_tag\">File Tag</option>\n                            <option value=\"file_extension\">File Extension</option>\n                        </select>\n                     </div>\n\n                    <div className = \"form-group\">\n                    < input className=\"btn btn-primary\" onClick = {this.onSearch} type=\"submit\" value = \"Search File\" />\n                    </div>\n                </form>\n\n                <table className=\"table table-striped\" style={{ marginTop: 20 }}>\n                    <thead>\n                        <tr>\n                            <th>File Name</th>\n                            <th>File Extension</th>\n                            <th>File Size (In MB/s)</th>\n                            <th>File Duration (In Minutes)</th>\n                            <th>File Dimensions (In px)</th>\n                            <th>File Tag</th>\n                            <th>Employee Responsible</th>\n                            <th>Edit Active?</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    { this.state.searchResult != null ? this.fileListSearch() : <></> }\n                    </tbody>\n                </table>\n\n            </div>\n\n        ) : (\n                <h3>Please login</h3>\n            );\n    } \n}"]},"metadata":{},"sourceType":"module"}